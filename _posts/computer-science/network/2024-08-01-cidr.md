---
title: CIDR이란?
description: AWS의 VPC를 이해하기 위한 네트워크의 기초, CIDR에 대한 개념 정리
categories: [Computer Science, Network]
tags: [computer-science, network, cidr] # TAG names should always be lowercase
pin: false
math: true
mermaid: true
published: true
private: true # 커스텀해서 만든 것
image-path: /assets/img/computer-science/network/cidr # 이미지 공통 경로 변수
image:
  path: /assets/img/computer-science/network/cidr/cidr_1.png
  lqip: data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=
  alt: CIDR의 표기법
---

> ⚠️ 들어가기에 앞서, 해당 게시글의 `IP` 관련된 계산을 이해하기 위한 참고 링크
>
> 서브넷과 서브네팅에 관련한 정보 및 서브네팅 계산법에 대해서는 [#서브넷 & 서브넷 마스크란? (feat. 슈퍼네팅)][subnet] 게시글을 참고
>
> `IP` 클래스와 주소 구성에 대한 내용은 [#IP 클래스에 대한 개념 정리 및 IP 주소의 구성에 대한 개념 정리][ip-class] 게시글을 참고
>
> 위의 내용을 어느정도 숙지하는 것이 도움이 된다.

## CIDR(Classless Inter-Domain Routing)의 개념

네트워크 설계를 하면서 가장 많이 접하게 될 개념이 `CIDR`(사이더)이다.

`CIDR`의 풀네임은 Classless Inter-Domain Routing으로 <ins>클래스 없는 도메인 간의 라우팅 기법</ins>이라는 뜻을 내포한다.

즉, 도메인 간의 라우팅에 사용되는 인터넷 주소를 원래 `IP` 주소 클래스 체계를 쓰는 것보다 더욱 능동적으로 할 수 있도록 지정하는 방식 중 하나이다.

언뜻 보면, 우리가 `IP` 주소 클래스를 배우면서 같이 배우는 것이 서브넷 마스크 그리고 서브네팅인데, 여기서 서브네팅과의 차이가 무엇인지 애매할 때가 있다.

서브네팅 자체가 `IP` 클래스에 국한되지 않고 더욱더 `IP` 주소를 쪼개는 방식을 말하는 것ㄴ데 이게 바로 클래스 없는 도메인 간의 라우팅 기법이기 때문이다.

결론적으로 말하면,

<ins>$$Subnetting \subset CIDR$$</ins>

이런 집합 관계가 형성된다.

서브네팅 뿐만 아니라 서브넷을 합치는 슈퍼네팅 역시 `CIDR`의 일환이다.

정리하자면, <ins>서브네팅, 슈퍼네팅</ins>처럼 `IP`를 나누고 합치는 기법을 <ins>모두 `CIDR`</ins>이라고 이해하면 된다.

> 서브넷, 서브네팅 및 슈퍼네팅에 대한 내용은 [#서브넷 & 서브넷 마스크란? (feat. 슈퍼네팅)][subnet] 게시글을 참고

## CIDR 표기법이란?

![image_1][image_1]

`CIDR`을 정의하는 설명 중에, "<ins>`CIDR`은 네트워크 정보를 여러 개로 나눠진 `Sub-Network`들을 모두 나타낼 수 있는 하나의 `Network`로 통합해서 보여주는 방법이다.</ins>"라고 말한다.

위의 정의가 뜻하는 것은 `IP`와 서브넷 마스크를 다음과 같이 표기한 것이다.

![image_2_light][image_2_light]{: .light .w-75}
![image_2_dark][image_2_dark]{: .dark .w-75}

서브네팅에서는 서브넷 마스크를 <ins>짧게 적은 Prefix</ins>라고 말하지만, 이것이 바로 <ins>`CIDR`이지 `CIDR` 표기법</ins>이다.

그리고 위와 같이 표기하는 이유는 <ins>단 한 줄만으로 네트워크 범위를 추측 또는 측정</ins>할 수 있기 때문이다.

예를 들면,

> 현재 회사는 50개의 `IP`를 쓰는데, 자신의 `IP` 주소가 `192.168.10.70`이다.
>
> `IP`를 다른 번호로 할당받고 싶은데 `IP` 범위가 어디붜 어디까지 인지 몰라서 어떤 주소 번호로 할당을 요청해야 할지 모르겠다.
>
> 현재 회사 `IP` 할당 범위를 알고 싶다.

위와 같은 요청 사항이 있다면 서브네팅 계산법을 통해 `IP` 할당 범위를 알 수 있다.

### 서브네팅 계산법을 통한 답변

*192.168.10.70*의 대역폭을 봤을 떄, 해당 `IP`는 `C Class`(192.0.0.0 ~ 223.255.255.0)에 속한다.

> `IP` 클래스에 대한 자세한 설명은 [#IP 클래스에 대한 개념 정리 및 IP 주소의 구성에 대한 개념 정리][ip-class] 게시글을 참고

`C Class`이면 기본적인 디폴트 서브넷 마스크는 *255.255.255.0*일 것이다.

{: .prompt-tip}

> 디폴트 서브넷 마스크(Default Subnet Mask)란?
>
> `IP` 주소 클래스 범위에서 서브넷을 나누지 않고 사용하는 경우에 적용되는 서브넷 마스크가 디폴트 서브넷 마스크라고 이해하면 된다.
>
> - `A Class` 디폴트 서브넷 마스크
>   : 255.0.0.0
>
> - `B Class` 디폴트 서브넷 마스크
>   : 255.255.0.0
>
> - `C Class` 디폴트 서브넷 마스크
>   : 255.255.255.0

그렇다면, <ins>네트워크 ID는 _192.168.10_</ins>일 것이며 <ins>호스트 ID 부분은 _.70_</ins> 부분일 것이다.

따라서 기본적인 `IP` 범위는 <ins>192.168.10.0 ~ 192.168.0.255</ins>일 것이다.

그런데 회사가 사용하는 `IP`는 50개라고 한다면, 분명 서브네팅을 통해 `IP` 범위를 더 한정지어서 받았을 것이다.

`IP`를 50개를 사용하는 회사에 적절하게 분배가 가능한 범위는 `C Class`의 256개의 범위를 4등분한 64개의 범위이다.

64개는 $2^6$이고, 이는 호스트 ID가 6개의 비트를 사용한다는 뜻이다.

그래서 64씩 나누어 범위를 표현하자면, 최종적으로 아래와 같은 대역으로 나누어진다.

| 네트워크              | `IP` 범위                                 |
| --------------------- | ----------------------------------------- |
| 네트워크 1            | 192.168.10.0 ~ 192.168.10.63              |
| <ins>네트워크 2</ins> | <ins>192.168.10.64 ~ 192.168.10.127</ins> |
| 네트워크 3            | 192.168.10.128 ~ 192.168.10.191           |
| 네트워크 4            | 192.168.10.192 ~ 192.168.10.255           |

{: .prompt-warning}

> 잊지 말아야 할 것이, 각 네트워크의 첫 번째와 마지막 `IP`는 사용이 불가능하다. (네트워크 주소와 브로드 캐스트 주소)

이제 요청 사항에 대한 답변으로,

> `IP` _192.168.10.70_ 주소로 유추해보자면, 회사는 `네트워크 2(192.168.10.64 ~ 192.168.10.127)`에 속해 있다.

라고 말할 수 있다.

### CIDR을 통한 답변

위와 같이 서브네팅 계산을 통해서 답변을 준다면 너무 길기도 하고, `IP` 범위 하나를 알려주기 위해 말하고 쓰는 것이 너무 많다.

간단하게 <ins>한 줄로 표기해서 알려주기 위해 존재</ins>하는 것이 바로 `CIDR`이다.

> 회사 `IP` 범위는 *192.168.10.70<ins>/26</ins>*이고, 계산하면 된다.

위와 같이 답변할 수 있게 된다는 뜻이다.

#### 192.168.10.70<ins>/20</ins> 풀이법

해당 `IP` 표기법에서는 서브넷 마스크의 1의 개수가 26개인 것을 알 수 있다.

네 번째 옥텟[^octet]의 최상위 2개의 비트가 1이고, 나머지 6비트를 호스트 ID로 할당하게 된다.

즉, 호스트 ID 부분이 `.11000000`가 되며 10진법으로 192가 된다.

- `IP`
  : 192.168.10.70
- 서브넷 마스크
  : 255.255.255.192

$256 - 192 = 64 - 2(특수목적 \ IP) = 62$이므로 62개의 호스트를 가질 수 있게 된다.

$256 \div 64 = 4$이므로 4개의 서브넷 네트워크를 가진다는 것도 알 수 있다.

그래서 사용할 수 있는 `IP`의 대역에 대한 정보는 다음과 같이 된다.

| 네트워크              | `IP` 범위                                 |
| --------------------- | ----------------------------------------- |
| 네트워크 1            | 192.168.10.0 ~ 192.168.10.63              |
| <ins>네트워크 2</ins> | <ins>192.168.10.64 ~ 192.168.10.127</ins> |
| 네트워크 3            | 192.168.10.128 ~ 192.168.10.191           |
| 네트워크 4            | 192.168.10.192 ~ 192.168.10.255           |

단, 각 네트워크의 첫 번째와 마지막 `IP`는 사용이 불가능하다.

정리하자면, *192.168.10.70<ins>/26</ins>*은 이렇게 분리된 4개의 네트워크와 각 62개의 호스트를 가진 네트워크를 사용한다는 것을 의미하며, 자신이 두 번째 네트워크에 속해있다는 것을 알 수 있다.

## CIDR 블럭이란?

어려울 것이 없는게, `CIDR` 블럭은 서브넷이다.

그냥 AWS 진영에서는 서브넷을 멋스럽게 `CIDR` 블럭이라고 부른다고 이해하면 된다.

예를 들어, 다음과 같은 _192.168.0.0/16_ 대역망이 있다.

이를 세 개의 네트워크 단위(서브넷)으로 쪼갠 것이다.

![image_3][image_3]
_위의 이미지에서의 서브넷1, 2, 3이 바로 CIDR 블럭이다._

## 참고 사이트

> [Inpa Dev - CIDR (Classless Inter-Domain Routing)][ref_site_1]
>
> [kim.dragon - [네트워크] CIDR이란?(사이더 란?)][ref_site_2]

---

[^octet]: 컴퓨팅과 전기 통신에서 8개의 비트가 한데 모인 것을 말하며, "정확하게 8비트"임을 명시해야 하는 경유애 사용하는 용어이다. (`Byte`와 같은 용어로 취급)

<!-- 이미지 -->

[image_1]: {{page.image-path}}/cidr_1.png
[image_2_light]: {{page.image-path}}/cidr_2_light.png
[image_2_dark]: {{page.image-path}}/cidr_2_dark.png
[image_3]: {{page.image-path}}/cidr_3.png

<!-- 블로그 게시글 -->

[subnet]: {{site.url}}/posts/subnet
[ip-class]: {{site.url}}/posts/ip-class

<!-- 참고 사이트 -->

[ref_site_1]: https://inpa.tistory.com/entry/WEB-%F0%9F%8C%90-CIDR-%EC%9D%B4-%EB%AC%B4%EC%96%BC-%EB%A7%90%ED%95%98%EB%8A%94%EA%B1%B0%EC%95%BC-%E2%87%9B-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC-%EA%B3%84%EC%82%B0%EB%B2%95
[ref_site_2]: https://kim-dragon.tistory.com/9
